from .geometry import move, moveToPoint
from ..utils import sgn
from math import sin, cos, pi

def window(w=200, h=200, n=150, pivot=(500, 500), sectors=4, corners=1, color={'reds':1}):
    '''Generate window primitive based on superellipse,
    returns (points, 'live', color)'''
    if corners != 0: corners = 1
    n = (abs(n) + 1) / 100
    sectors *=4
    w /= 2
    h /= 2
    x, y = pivot
    na = 2 / n
    piece = (pi * 2) / sectors
    points = []
    t = 0
    for t1 in range(sectors + 1):
        xO=(abs((cos(t)))**na)*w*sgn(cos(t))
        yO=(abs((sin(t)))**na)*h*sgn(sin(t))
        if not corners:
            points.append((xO+x, yO+y))
        elif sgn(yO) >= 0:
            points.append((xO+x, yO+y))
        elif sgn(xO) < 1:
            points.append((x-w, yO+y))
        else:
            if corners == 1: 
                points.append((x, y-h))
                points.append((x+w, y-h))
                corners = 2
            points.append((x+w, yO+y))
            
        t+=piece
    poly = tuple(reversed(points[:-1]))
    return (poly, 'live', color)

def star(s=50, pivot=(500, 500), phase=0, rays=8, lenght=15, fixed=True, color={'yellows':1}):
    '''A star primitive as (points, 'live', color)'''
    if fixed: rays = int(rays)
    if phase > 1: phase = 1
    if phase < 0: phase = 0
    points = []
    ray_angle = 360 / (rays)
    for n in range(int(360 / ray_angle)):
        p0 = move(pivot, ray_angle * n, s/2, 'deg')
        p2 = move(pivot, (ray_angle * n) + (ray_angle / 2), s/2 - lenght, 'deg')
        points.append(p0)
        points.append(p2)
    poly = tuple(reversed(points))
    return (poly, 'live', color)

def sheep(s=50, pivot=(500, 500), phase=0, color={'whites':1}):
    '''A sheep primitive as (points, 'live', color)'''
    phase = abs((phase % 100 - 50) * 2)
    fr1 = ((0.7476459510357816, 0.048), (0.60075329566855, -0.624), (0.6346516007532956, -0.964), (0.5630885122410546, -1.052), (0.4576271186440678, -0.948), (0.4915254237288136, -0.596), (0.4274952919020716, -0.268), (0.3069679849340866, -0.264), (0.2391713747645951, -0.672), (0.1751412429378531, -0.98), (0.09227871939736347, -1.064), (0.02824858757062147, -0.94), (0.11487758945386065, -0.676), (0.0696798493408663, -0.28), (-0.2542372881355932, -0.344), (-0.4274952919020716, -0.62), (-0.3973634651600753, -0.948), (-0.4312617702448211, -1.056), (-0.5291902071563088, -0.996), (-0.5480225988700564, -0.584), (-0.4764595103578154, -0.3), (-0.5254237288135594, -0.264), (-0.608286252354049, -0.552), (-0.6045197740112994, -1.016), (-0.6572504708097928, -1.104), (-0.7401129943502824, -1.016), (-0.7401129943502824, -0.516), (-0.9058380414312618, -0.12), (-0.8757062146892656, 0.212), (-1.0, 0.212), (-0.6308851224105462, 0.516), (-0.20903954802259886, 0.412), (0.20527306967984935, 0.436), (0.2693032015065913, 0.8), (0.2580037664783427, 0.836), (0.2919020715630885, 0.844), (0.3182674199623352, 0.808), (0.3709981167608286, 0.828), (0.352165725047081, 0.872), (0.2580037664783427, 0.86), (0.10734463276836158, 0.888), (0.04331450094161959, 1.068), (0.1751412429378531, 1.068), (0.3069679849340866, 0.924), (0.3860640301318267, 1.0), (0.5819209039548022, 0.996), (0.6610169491525424, 0.932), (0.7928436911487758, 1.052), (0.9133709981167608, 1.032), (0.8267419962335216, 0.86), (0.7137476459510358, 0.84), (0.615819209039548, 0.852), (0.6120527306967984, 0.808), (0.6308851224105462, 0.78), (0.7024482109227872, 0.828), (0.6572504708097928, 0.72), (0.5404896421845574, 0.6), (0.4124293785310734, 0.6), (0.4651600753295669, 0.536), (0.4350282485875706, 0.5), (0.5103578154425612, 0.5), (0.480225988700565, 0.536), (0.5404896421845574, 0.6), (0.6572504708097928, 0.72), (0.672316384180791, 0.604), (0.687382297551789, 0.504), (0.6949152542372882, 0.46), (0.7062146892655368, 0.404))
    fr2 = ((0.6836158192090396, 0.044), (0.6120527306967984, -0.64), (0.623352165725047, -0.956), (0.5630885122410546, -1.052), (0.4463276836158192, -1.004), (0.4990583804143126, -0.66), (0.4576271186440678, -0.3), (0.3069679849340866, -0.264), (0.2843691148775895, -0.644), (0.1374764595103578, -0.972), (0.0696798493408663, -1.036), (-0.0018832391713747645, -0.932), (0.1638418079096045, -0.592), (0.04331450094161959, -0.264), (-0.1751412429378531, -0.276), (-0.4086629001883239, -0.56), (-0.3709981167608286, -0.976), (-0.4538606403013183, -0.94), (-0.4764595103578154, -0.896), (-0.551789077212806, -0.552), (-0.487758945386064, -0.252), (-0.5480225988700564, -0.264), (-0.67984934086629, -0.544), (-0.6045197740112994, -0.996), (-0.664783427495292, -1.008), (-0.736346516007533, -0.928), (-0.8493408662900188, -0.512), (-0.9058380414312618, -0.12), (-0.8757062146892656, 0.212), (-1.0, 0.212), (-0.6308851224105462, 0.516), (-0.11487758945386065, 0.412), (0.15254237288135594, 0.436), (0.4387947269303202, 0.8), (0.4199623352165725, 0.868), (0.5743879472693032, 0.876), (0.6271186440677966, 0.816), (0.6760828625235404, 0.836), (0.6534839924670434, 0.88), (0.4199623352165725, 0.868), (0.2843691148775895, 0.888), (0.19397363465160075, 1.044), (0.3258003766478343, 1.068), (0.4689265536723164, 0.964), (0.5291902071563088, 1.04), (0.7250470809792844, 1.036), (0.7853107344632768, 0.992), (0.8041431261770244, 1.016), (0.9322033898305084, 1.052), (0.8945386064030132, 0.96), (0.8418079096045198, 0.9), (0.8267419962335216, 0.9), (0.8267419962335216, 0.892), (0.8305084745762712, 0.888), (0.8305084745762712, 0.888), (1.0, 0.708), (0.9887005649717514, 0.704), (0.9096045197740112, 0.7), (0.9510357815442562, 0.648), (0.9133709981167608, 0.612), (0.9736346516007532, 0.612), (0.9623352165725048, 0.648), (0.9887005649717514, 0.704), (1.0, 0.708), (0.9774011299435028, 0.6), (0.9058380414312618, 0.556), (0.7288135593220338, 0.58), (0.664783427495292, 0.4))
    points = []
    for i in range(len(fr1)):
        p = moveToPoint(fr1[i], fr2[i], phase)
        points.append(((p[0] * s) + pivot[0], (p[1] * s) + pivot[1]))
    poly = tuple(points)
    return (poly, 'live', color)


def salamandra(s=50, pivot=(500, 500), phase=0, color={'yellows':1}):
    '''A salamandra primitive as (points, 'live', color)'''
    phase = abs((phase % 100 - 50) * 2)
    fr1 = ((0.12264, -0.324), (0.25472, -0.344), (0.15566, -0.564), (0.40566, -0.532), (0.56604, -0.552), (0.61792, -0.496), (0.7217, -0.568), (0.62736, -0.652), (0.55189, -0.608), (0.36321, -0.628), (0.06604, -0.764), (0.00943, -1.004), (0.12736, -1.204), (0.32547, -1.284), (0.43868, -1.192), (0.58491, -1.264), (0.58491, -1.368), (0.44811, -1.456), (0.31132, -1.368), (0.05189, -1.28), (-0.16981, -1.04), (-0.21698, -0.688), (-0.41981, -0.588), (-0.51887, -0.392), (-0.60377, -0.36), (-0.5566, -0.26), (-0.4434, -0.284), (-0.46226, -0.368), (-0.36321, -0.488), (-0.17925, -0.528), (-0.11321, -0.372), (0.00943, -0.332), (-0.11321, -0.304), (-0.17925, -0.116), (-0.37736, -0.06), (-0.58962, -0.104), (-0.65094, -0.164), (-0.74528, -0.12), (-0.70755, -0.032), (-0.62736, -0.056), (-0.43868, 0.036), (-0.24057, 0.064), (-0.29717, 0.264), (-0.15094, 0.292), (-0.29717, 0.336), (-0.25472, 0.524), (-0.44811, 0.696), (-0.51415, 0.916), (-0.61792, 0.984), (-0.5283, 1.088), (-0.41509, 1.024), (-0.44811, 0.96), (-0.34906, 0.78), (-0.12736, 0.72), (-0.06604, 0.824), (-0.20283, 0.944), (-0.13208, 1.024), (-0.07547, 0.992), (-0.04245, 1.04), (-0.09906, 1.068), (0.08491, 1.34), (0.12264, 1.332), (0.13679, 1.256), (0.09906, 1.228), (0.14151, 1.18), (0.18868, 1.22), (0.16509, 1.256), (0.20755, 1.32), (0.24528, 1.324), (0.33019, 1.036), (0.27358, 1.004), (0.29717, 0.964), (0.35849, 0.992), (0.40094, 0.912), (0.23585, 0.764), (0.25943, 0.7), (0.47642, 0.744), (0.68868, 0.644), (0.75472, 0.68), (0.84434, 0.608), (0.74057, 0.532), (0.66981, 0.588), (0.46226, 0.632), (0.22642, 0.448), (0.14623, 0.328), (0.0, 0.296), (0.13679, 0.26), (0.15566, 0.16), (0.39151, 0.22), (0.53302, 0.32), (0.5566, 0.388), (0.66981, 0.36), (0.66038, 0.244), (0.56132, 0.232), (0.42925, 0.108), (0.21698, -0.044), (0.25472, -0.284))
    fr2 = ((0.15094, -0.332), (0.26887, -0.372), (0.09906, -0.628), (0.32075, -0.656), (0.48113, -0.692), (0.54245, -0.644), (0.63208, -0.732), (0.5283, -0.8), (0.46226, -0.748), (0.26415, -0.748), (-0.0283, -0.808), (-0.18868, -1.048), (-0.24057, -1.284), (-0.28774, -1.48), (-0.20283, -1.592), (-0.31132, -1.692), (-0.43868, -1.676), (-0.50943, -1.556), (-0.38679, -1.464), (-0.38208, -1.252), (-0.36792, -0.996), (-0.26887, -0.688), (-0.43868, -0.56), (-0.53302, -0.38), (-0.62264, -0.36), (-0.58491, -0.26), (-0.48113, -0.276), (-0.49057, -0.356), (-0.37264, -0.472), (-0.20283, -0.54), (-0.09906, -0.372), (0.03774, -0.336), (-0.08962, -0.3), (-0.12736, -0.112), (-0.33491, -0.052), (-0.50943, -0.056), (-0.58491, -0.1), (-0.66038, -0.032), (-0.60377, 0.028), (-0.54717, -0.004), (-0.37264, 0.048), (-0.16509, 0.064), (-0.2217, 0.264), (-0.08491, 0.304), (-0.23113, 0.336), (-0.23113, 0.516), (-0.43396, 0.66), (-0.58962, 0.76), (-0.69811, 0.78), (-0.68868, 0.884), (-0.56604, 0.884), (-0.55189, 0.82), (-0.36792, 0.748), (-0.14151, 0.7), (-0.09434, 0.8), (-0.25, 0.908), (-0.1934, 0.996), (-0.13208, 0.968), (-0.10377, 1.016), (-0.16509, 1.044), (-0.02358, 1.324), (0.01887, 1.32), (0.04245, 1.248), (0.0, 1.208), (0.0566, 1.16), (0.10849, 1.212), (0.06604, 1.252), (0.10377, 1.32), (0.14151, 1.324), (0.26415, 1.052), (0.20755, 1.016), (0.23585, 0.976), (0.29717, 1.008), (0.34906, 0.936), (0.20283, 0.768), (0.23585, 0.712), (0.4434, 0.776), (0.64623, 0.8), (0.69811, 0.852), (0.8066, 0.804), (0.73585, 0.716), (0.66038, 0.748), (0.46226, 0.668), (0.24057, 0.484), (0.21698, 0.36), (0.07075, 0.316), (0.21698, 0.288), (0.23585, 0.152), (0.46698, 0.2), (0.61321, 0.268), (0.64623, 0.328), (0.75472, 0.284), (0.71698, 0.184), (0.63208, 0.184), (0.5, 0.092), (0.28302, -0.048), (0.28302, -0.304))
    fr3 = ((0.19811, -0.424), (0.28774, -0.484), (0.06132, -0.692), (0.21698, -0.796), (0.39623, -0.832), (0.45755, -0.8), (0.53774, -0.892), (0.4434, -0.952), (0.37736, -0.896), (0.16038, -0.888), (-0.10377, -0.84), (-0.45283, -0.996), (-0.79245, -1.08), (-1.06132, -1.076), (-1.18396, -1.148), (-1.29717, -1.064), (-1.28774, -0.972), (-1.15566, -0.912), (-1.04717, -1.008), (-0.82547, -0.992), (-0.56604, -0.908), (-0.29245, -0.68), (-0.41509, -0.524), (-0.55189, -0.4), (-0.64151, -0.408), (-0.66038, -0.312), (-0.56132, -0.284), (-0.5283, -0.356), (-0.35377, -0.448), (-0.19811, -0.548), (-0.07547, -0.424), (0.07075, -0.404), (-0.04245, -0.348), (-0.01887, -0.144), (-0.24528, -0.076), (-0.42453, -0.02), (-0.51887, -0.028), (-0.53302, 0.068), (-0.42925, 0.08), (-0.41509, 0.02), (-0.24528, 0.028), (-0.01887, 0.028), (-0.07075, 0.228), (0.06132, 0.3), (-0.10377, 0.316), (-0.18868, 0.46), (-0.41038, 0.552), (-0.62264, 0.564), (-0.68396, 0.508), (-0.78302, 0.568), (-0.6934, 0.656), (-0.62736, 0.624), (-0.40094, 0.648), (-0.17453, 0.624), (-0.15566, 0.716), (-0.34906, 0.792), (-0.32075, 0.904), (-0.25, 0.88), (-0.23113, 0.932), (-0.30189, 0.952), (-0.24057, 1.252), (-0.1934, 1.256), (-0.15094, 1.192), (-0.17453, 1.156), (-0.11792, 1.124), (-0.08491, 1.176), (-0.12736, 1.2), (-0.10849, 1.276), (-0.07075, 1.284), (0.12736, 1.04), (0.07547, 0.996), (0.11792, 0.964), (0.16981, 1.004), (0.24057, 0.944), (0.13208, 0.736), (0.1934, 0.692), (0.37264, 0.796), (0.49057, 0.904), (0.46226, 0.948), (0.57075, 1.004), (0.62736, 0.916), (0.56132, 0.884), (0.45755, 0.704), (0.27358, 0.512), (0.34434, 0.364), (0.21226, 0.32), (0.36792, 0.288), (0.40094, 0.1), (0.61321, 0.124), (0.77358, 0.12), (0.82547, 0.164), (0.91981, 0.092), (0.83019, 0.02), (0.76887, 0.052), (0.63679, 0.016), (0.41038, -0.096), (0.32547, -0.408))
    fr4 = ((0.19811, -0.516), (0.28774, -0.596), (0.0283, -0.804), (0.15094, -0.952), (0.33962, -0.992), (0.40566, -0.968), (0.47642, -1.068), (0.38208, -1.12), (0.31604, -1.06), (0.08962, -1.04), (-0.16038, -0.932), (-0.57547, -1.0), (-0.90566, -0.816), (-0.99057, -0.528), (-1.07547, -0.392), (-0.98113, -0.308), (-0.86792, -0.32), (-0.80189, -0.432), (-0.91981, -0.52), (-0.82547, -0.724), (-0.60377, -0.848), (-0.32075, -0.744), (-0.41509, -0.568), (-0.56132, -0.472), (-0.65566, -0.492), (-0.69811, -0.396), (-0.59906, -0.352), (-0.55189, -0.42), (-0.35377, -0.5), (-0.20283, -0.624), (-0.0566, -0.496), (0.08491, -0.484), (-0.02358, -0.44), (0.03302, -0.22), (-0.20283, -0.148), (-0.33962, 0.0), (-0.42925, 0.008), (-0.41038, 0.108), (-0.30189, 0.092), (-0.3066, 0.028), (-0.18396, -0.044), (0.05189, -0.052), (-0.01415, 0.148), (0.13208, 0.224), (-0.04717, 0.228), (-0.15094, 0.348), (-0.39151, 0.388), (-0.58019, 0.304), (-0.61321, 0.224), (-0.75, 0.244), (-0.6934, 0.36), (-0.61321, 0.352), (-0.40566, 0.488), (-0.17925, 0.488), (-0.17453, 0.576), (-0.38679, 0.628), (-0.36321, 0.752), (-0.28302, 0.736), (-0.27358, 0.788), (-0.34906, 0.804), (-0.32075, 1.116), (-0.27358, 1.124), (-0.2217, 1.068), (-0.23585, 1.028), (-0.17925, 1.004), (-0.15094, 1.06), (-0.19811, 1.08), (-0.18396, 1.16), (-0.14623, 1.172), (0.08019, 0.956), (0.03302, 0.908), (0.07547, 0.876), (0.12736, 0.924), (0.20283, 0.876), (0.10849, 0.644), (0.18396, 0.608), (0.35849, 0.74), (0.39623, 0.916), (0.32547, 0.944), (0.40566, 1.052), (0.51415, 1.0), (0.48113, 0.924), (0.4717, 0.664), (0.30189, 0.456), (0.42453, 0.32), (0.2783, 0.256), (0.43868, 0.236), (0.48113, 0.012), (0.68868, 0.024), (0.85377, -0.016), (0.91509, 0.024), (1.0, -0.064), (0.88679, -0.12), (0.83962, -0.076), (0.70283, -0.084), (0.47642, -0.18), (0.34906, -0.516))

    points = []
    if 0 <= phase < 33.3:
        for i in range(len(fr1)):
            p = moveToPoint(fr1[i], fr2[i], phase*3)
            points.append(((p[0] * s) + pivot[0], (p[1] * s) + pivot[1]))
    if 33.3 <= phase < 66.6:
        for i in range(len(fr1)):
            p = moveToPoint(fr2[i], fr3[i], (phase-33.3)*3)
            points.append(((p[0] * s) + pivot[0], (p[1] * s) + pivot[1]))
    if 66.6 <= phase <= 100:
        for i in range(len(fr1)):
            p = moveToPoint(fr3[i], fr4[i], (phase-66.6)*3)
            points.append(((p[0] * s) + pivot[0], (p[1] * s) + pivot[1]))
        
    poly = tuple(points)
    return (poly, 'live', color)


def salamalamandra(s=50, pivot=(500, 500), phase=0, color={'yellows':1}):
    '''Long version of salamandra primitive as (points, 'live', color)'''
    phase = abs((phase % 100 - 50) * 2)
    fr1 = ((0.10363, 2.072), (0.18135, 2.128), (0.13472, 2.172), (0.18653, 2.236), (0.24352, 2.24), (0.43005, 1.88), (0.35751, 1.84), (0.3886, 1.796), (0.46632, 1.828), (0.50777, 1.756), (0.2487, 1.628), (0.29016, 1.58), (0.64767, 1.644), (0.81347, 1.58), (0.8601, 1.616), (0.95855, 1.556), (0.88083, 1.488), (0.80311, 1.524), (0.64249, 1.552), (0.37306, 1.412), (0.29534, 1.164), (0.35233, 0.976), (0.6114, 1.08), (0.72021, 1.208), (0.73057, 1.28), (0.84456, 1.296), (0.8601, 1.196), (0.78756, 1.172), (0.67358, 1.004), (0.39896, 0.788), (0.46114, 0.58), (0.35233, 0.304), (0.60104, 0.364), (0.81347, 0.276), (0.88601, 0.316), (0.98446, 0.244), (0.87047, 0.164), (0.79793, 0.22), (0.58031, 0.248), (0.27979, 0.136), (0.15026, -0.136), (0.20725, -0.26), (0.50259, -0.156), (0.65285, -0.052), (0.67876, 0.016), (0.79275, 0.008), (0.79275, -0.096), (0.68912, -0.112), (0.54404, -0.268), (0.27979, -0.424), (0.35233, -0.628), (0.27461, -0.944), (0.54922, -0.928), (0.72539, -0.952), (0.78756, -0.896), (0.89637, -0.972), (0.80311, -1.052), (0.71503, -1.004), (0.50259, -1.02), (0.23316, -1.172), (0.17098, -1.328), (0.16062, -1.56), (0.19689, -1.744), (0.28497, -1.912), (0.16062, -1.952), (0.0829, -1.764), (0.01036, -1.552), (-0.03627, -1.36), (-0.06736, -1.084), (-0.3057, -0.976), (-0.40415, -0.78), (-0.49741, -0.744), (-0.44041, -0.648), (-0.33679, -0.68), (-0.34715, -0.76), (-0.24352, -0.88), (-0.04145, -0.924), (0.01554, -0.644), (-0.06218, -0.512), (-0.27979, -0.464), (-0.51295, -0.516), (-0.58549, -0.576), (-0.68394, -0.532), (-0.64249, -0.444), (-0.5544, -0.464), (-0.35233, -0.368), (-0.13472, -0.332), (-0.21762, -0.116), (-0.18135, 0.112), (-0.40933, 0.284), (-0.5285, 0.452), (-0.61658, 0.48), (-0.58549, 0.58), (-0.48705, 0.556), (-0.48705, 0.488), (-0.33161, 0.376), (-0.11399, 0.32), (-0.06218, 0.516), (-0.15026, 0.704), (-0.37824, 0.756), (-0.58031, 0.732), (-0.63731, 0.668), (-0.75648, 0.712), (-0.70984, 0.804), (-0.62694, 0.788), (-0.46114, 0.844), (-0.27461, 0.872), (-0.38342, 1.072), (-0.35233, 1.388), (-0.53368, 1.524), (-0.62176, 1.748), (-0.70466, 1.796), (-0.65285, 1.892), (-0.54404, 1.828), (-0.56995, 1.768), (-0.46632, 1.612), (-0.15026, 1.572), (-0.10363, 1.652), (-0.34715, 1.772), (-0.29016, 1.852), (-0.21762, 1.82), (-0.18653, 1.872), (-0.25907, 1.9), (0.00518, 2.252), (0.06218, 2.248), (0.08808, 2.168), (0.02591, 2.132))
    fr2 = ((0.10363, 2.024), (0.20207, 2.092), (0.15026, 2.136), (0.20207, 2.208), (0.25907, 2.208), (0.43005, 1.848), (0.35751, 1.804), (0.39378, 1.76), (0.46632, 1.796), (0.51295, 1.684), (0.25389, 1.588), (0.31088, 1.54), (0.63731, 1.524), (0.81865, 1.48), (0.86528, 1.516), (0.95855, 1.452), (0.88083, 1.388), (0.80311, 1.424), (0.64767, 1.428), (0.37824, 1.316), (0.27979, 1.172), (0.33161, 0.9), (0.6114, 0.92), (0.76684, 0.988), (0.80829, 1.044), (0.91192, 1.028), (0.88083, 0.94), (0.80829, 0.936), (0.64249, 0.836), (0.37306, 0.704), (0.3886, 0.476), (0.30052, 0.232), (0.55959, 0.248), (0.78756, 0.184), (0.8601, 0.22), (0.95855, 0.152), (0.84974, 0.068), (0.77202, 0.128), (0.5544, 0.132), (0.23834, 0.04), (0.18135, -0.18), (0.21244, -0.328), (0.49223, -0.296), (0.67358, -0.244), (0.71503, -0.18), (0.82383, -0.212), (0.79793, -0.312), (0.6943, -0.304), (0.50777, -0.396), (0.23316, -0.512), (0.26943, -0.764), (0.1658, -1.02), (0.4456, -1.032), (0.64767, -1.06), (0.70466, -1.004), (0.81865, -1.08), (0.71503, -1.156), (0.63212, -1.112), (0.41451, -1.128), (0.1399, -1.232), (0.05699, -1.408), (0.03109, -1.648), (0.03627, -1.848), (0.09326, -2.02), (-0.03109, -2.02), (-0.07772, -1.856), (-0.11917, -1.64), (-0.15026, -1.428), (-0.17617, -1.164), (-0.40933, -1.072), (-0.55959, -0.928), (-0.64767, -0.924), (-0.64249, -0.832), (-0.54404, -0.828), (-0.52332, -0.9), (-0.36269, -0.972), (-0.13472, -1.0), (-0.09326, -0.776), (-0.15026, -0.56), (-0.3886, -0.516), (-0.62694, -0.532), (-0.70984, -0.576), (-0.79793, -0.524), (-0.73057, -0.44), (-0.65803, -0.476), (-0.43005, -0.412), (-0.18653, -0.376), (-0.23316, -0.2), (-0.21244, 0.04), (-0.4715, 0.168), (-0.62694, 0.288), (-0.71503, 0.292), (-0.72539, 0.384), (-0.62694, 0.388), (-0.60104, 0.332), (-0.41451, 0.268), (-0.17098, 0.244), (-0.1399, 0.452), (-0.17617, 0.644), (-0.39896, 0.684), (-0.60622, 0.684), (-0.67358, 0.628), (-0.78238, 0.684), (-0.72021, 0.768), (-0.64249, 0.744), (-0.46632, 0.78), (-0.25907, 0.816), (-0.34715, 1.044), (-0.25389, 1.32), (-0.54404, 1.408), (-0.69948, 1.556), (-0.78756, 1.564), (-0.79793, 1.648), (-0.68394, 1.636), (-0.67358, 1.584), (-0.49741, 1.5), (-0.1658, 1.532), (-0.09326, 1.612), (-0.34197, 1.724), (-0.29016, 1.804), (-0.21762, 1.772), (-0.18653, 1.824), (-0.25907, 1.856), (-0.03627, 2.22), (0.02591, 2.216), (0.06736, 2.136), (0.01036, 2.096))
    fr3 = ((0.03627, 2.02), (0.13472, 2.104), (0.0829, 2.144), (0.12953, 2.216), (0.18653, 2.216), (0.37824, 1.868), (0.31088, 1.824), (0.35233, 1.772), (0.41451, 1.808), (0.4715, 1.732), (0.2228, 1.604), (0.27979, 1.496), (0.61658, 1.5), (0.76684, 1.572), (0.7772, 1.616), (0.87565, 1.616), (0.8601, 1.536), (0.78238, 1.532), (0.65803, 1.408), (0.34715, 1.3), (0.41969, 1.02), (0.34197, 0.816), (0.59067, 0.776), (0.78238, 0.74), (0.86528, 0.768), (0.92746, 0.692), (0.82383, 0.632), (0.76166, 0.68), (0.54922, 0.684), (0.29534, 0.656), (0.25389, 0.432), (0.25907, 0.2), (0.50259, 0.212), (0.70984, 0.256), (0.74611, 0.312), (0.84456, 0.288), (0.80829, 0.196), (0.72539, 0.208), (0.55959, 0.108), (0.26425, -0.012), (0.23316, -0.232), (0.21244, -0.432), (0.52332, -0.452), (0.73575, -0.504), (0.81347, -0.468), (0.88083, -0.54), (0.79793, -0.604), (0.71503, -0.56), (0.48705, -0.56), (0.19689, -0.616), (0.17617, -0.828), (0.18653, -1.024), (0.44041, -1.016), (0.60622, -0.964), (0.63212, -0.896), (0.74093, -0.912), (0.72539, -1.004), (0.63731, -1.0), (0.48187, -1.116), (0.20207, -1.2), (0.18135, -1.452), (0.13472, -1.66), (0.0829, -1.868), (0.03109, -2.048), (-0.10363, -2.02), (-0.02591, -1.844), (-0.02591, -1.664), (-0.03109, -1.432), (-0.06218, -1.224), (-0.35751, -1.136), (-0.58031, -1.108), (-0.66839, -1.152), (-0.75648, -1.068), (-0.65803, -1.004), (-0.58549, -1.056), (-0.37306, -1.036), (-0.10363, -1.044), (-0.14508, -0.84), (-0.16062, -0.596), (-0.40933, -0.504), (-0.60104, -0.42), (-0.69948, -0.432), (-0.74093, -0.344), (-0.64249, -0.304), (-0.59067, -0.36), (-0.39896, -0.396), (-0.13472, -0.4), (-0.1658, -0.224), (-0.20207, -0.016), (-0.47668, 0.088), (-0.6943, 0.096), (-0.7772, 0.052), (-0.87047, 0.132), (-0.7772, 0.188), (-0.70984, 0.148), (-0.48187, 0.2), (-0.24352, 0.188), (-0.27461, 0.468), (-0.27979, 0.688), (-0.50259, 0.796), (-0.66839, 0.892), (-0.74611, 0.88), (-0.78238, 0.964), (-0.68394, 0.996), (-0.64249, 0.94), (-0.49223, 0.888), (-0.2487, 0.852), (-0.23316, 1.064), (-0.23834, 1.34), (-0.53368, 1.416), (-0.74093, 1.42), (-0.82383, 1.38), (-0.91192, 1.448), (-0.80829, 1.508), (-0.7513, 1.468), (-0.5285, 1.512), (-0.19689, 1.5), (-0.12953, 1.604), (-0.38342, 1.72), (-0.33679, 1.8), (-0.26425, 1.768), (-0.23316, 1.812), (-0.30052, 1.848), (-0.12435, 2.212), (-0.07254, 2.216), (-0.02073, 2.144), (-0.06736, 2.1))
    fr4 = ((0.01554, 2.076), (0.0829, 2.132), (0.02073, 2.168), (0.04663, 2.248), (0.10363, 2.248), (0.35751, 1.916), (0.29534, 1.868), (0.33161, 1.816), (0.39896, 1.848), (0.45596, 1.764), (0.21244, 1.652), (0.27461, 1.572), (0.60104, 1.612), (0.70466, 1.768), (0.67876, 1.828), (0.78238, 1.892), (0.83938, 1.796), (0.7513, 1.748), (0.66321, 1.524), (0.39378, 1.388), (0.51295, 1.1), (0.37306, 0.868), (0.55959, 0.84), (0.72539, 0.784), (0.80829, 0.8), (0.84974, 0.708), (0.73575, 0.664), (0.67876, 0.728), (0.47668, 0.752), (0.24352, 0.7), (0.15026, 0.548), (0.2487, 0.32), (0.46632, 0.376), (0.61658, 0.488), (0.62176, 0.556), (0.72021, 0.58), (0.7513, 0.48), (0.66321, 0.452), (0.54404, 0.284), (0.31606, 0.112), (0.35233, -0.116), (0.26943, -0.332), (0.48705, -0.368), (0.68394, -0.464), (0.7772, -0.444), (0.81347, -0.532), (0.71503, -0.576), (0.64767, -0.516), (0.41451, -0.464), (0.19171, -0.512), (0.09845, -0.732), (0.17617, -0.924), (0.37824, -0.88), (0.47668, -0.76), (0.4715, -0.68), (0.57513, -0.648), (0.63212, -0.744), (0.53886, -0.78), (0.44041, -0.976), (0.2228, -1.084), (0.20207, -1.38), (0.14508, -1.588), (0.03627, -1.76), (-0.08808, -1.932), (-0.20725, -1.868), (-0.06736, -1.7), (-0.04145, -1.56), (-0.01554, -1.328), (-0.06218, -1.136), (-0.36788, -1.02), (-0.58031, -1.004), (-0.66839, -1.052), (-0.76684, -0.972), (-0.65285, -0.896), (-0.59585, -0.952), (-0.41969, -0.928), (-0.1399, -0.944), (-0.2487, -0.684), (-0.18653, -0.424), (-0.40933, -0.268), (-0.5544, -0.112), (-0.65803, -0.096), (-0.66321, 0.008), (-0.54404, 0.016), (-0.52332, -0.052), (-0.36788, -0.156), (-0.11399, -0.224), (-0.06736, -0.092), (-0.18135, 0.056), (-0.4456, 0.248), (-0.66321, 0.22), (-0.74093, 0.164), (-0.84974, 0.244), (-0.7513, 0.316), (-0.68394, 0.276), (-0.46632, 0.364), (-0.2228, 0.304), (-0.3886, 0.66), (-0.3057, 0.816), (-0.53886, 1.004), (-0.65285, 1.172), (-0.73057, 1.196), (-0.71503, 1.296), (-0.59585, 1.28), (-0.58549, 1.208), (-0.47668, 1.08), (-0.22798, 1.004), (-0.16062, 1.164), (-0.21244, 1.388), (-0.50777, 1.552), (-0.67358, 1.524), (-0.74611, 1.488), (-0.82383, 1.556), (-0.73057, 1.616), (-0.67876, 1.58), (-0.51295, 1.644), (-0.19171, 1.58), (-0.1399, 1.628), (-0.39896, 1.756), (-0.35751, 1.836), (-0.28497, 1.8), (-0.2487, 1.844), (-0.31606, 1.884), (-0.11399, 2.244), (-0.04145, 2.244), (-0.00518, 2.168), (-0.05181, 2.128))

    points = []
    if 0 <= phase < 20:
        for i in range(len(fr1)):
            p = moveToPoint(fr1[i], fr2[i], phase*3)
            points.append(((p[0] * s) + pivot[0], (p[1] * s) + pivot[1]))
    if 20 <= phase < 80:
        for i in range(len(fr1)):
            p = moveToPoint(fr2[i], fr3[i], (phase-33.3)*3)
            points.append(((p[0] * s) + pivot[0], (p[1] * s) + pivot[1]))
    if 80 <= phase <= 100:
        for i in range(len(fr1)):
            p = moveToPoint(fr3[i], fr4[i], (phase-66.6)*3)
            points.append(((p[0] * s) + pivot[0], (p[1] * s) + pivot[1]))
        
    poly = tuple(points)
    return (poly, 'live', color)